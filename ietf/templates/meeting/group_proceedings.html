{# Copyright The IETF Trust 2015, All Rights Reserved #}
{% load origin %}
{% origin %}
{% load ietf_filters %}
{% load proceedings_filters %}
<tr>
    <td>
        {% if entry.name %}
            <div id="{{ entry.name|slugify }}">{{ entry.name }}</div>
        {% elif entry.group.acronym %}
            <div id="{{ entry.group.acronym }}">
                <a href="{% url 'ietf.group.views.group_home' acronym=entry.group.acronym %}">{{ entry.group.acronym }}</a>
            </div>
            {% if entry.group.state_id == "bof" %}<span class="badge rounded-pill bg-success">BOF</span>{% endif %}
        {% else %}
            <h1>{{ entry.group }}</h1>
        {% endif %}
    </td>
    {% if entry.canceled %}
        <td colspan="4">
            <span class="badge rounded-pill bg-danger">Session cancelled</span>
        </td>
    {% else %}
        {# artifacts #}
        <td>
            {% for agenda in entry.agendas %}
                <a href="{{ agenda.material|meeting_href:meeting }}">
                    Agenda
                    {% if agenda.time %}{{agenda.time|date:"D G:i"}}{% endif %}
                </a>
                <br>
            {% empty %}
                {% if show_agenda and not meeting.proceedings_final %}
                    <span class="badge rounded-pill bg-warning">No agenda</span>
                    <br>
                {% endif %}
            {% endfor %}
            {% for minutes in entry.minutes %}
                <a href="{{ minutes.material|meeting_href:meeting }}">
                    Minutes
                    {% if minutes.time %}{{minutes.time|date:"D G:i"}}{% endif %}
                </a>
                <br>
            {% empty %}
                {% if show_agenda and not meeting.proceedings_final %}
                    <span class="badge rounded-pill bg-warning">No minutes</span>
                    <br>
                {% endif %}
            {% endfor %}
            {% for bs in entry.bluesheets %}
                <a href="{{ bs.material|meeting_href:meeting }}">
                    Bluesheets
                    {% if bs.time %}{{ bs.time|date:"D G:i" }}{% endif %}
                </a>
                <br>
            {% endfor %}
        </td>
        {# recordings #}
        <td>
          {% for session in entry.sessions_with_recordings %}
              {% for rec in session.recordings %}
                  <a href="{{ rec|meeting_href:meeting|default:"#" }}">
                      {% if entry.sessions_with_recordings|length > 1 %}
                          {{ rec|hack_recording_title:True }}
                      {% else %}
                          {{ rec|hack_recording_title:False }}
                      {% endif %}
                  </a>
                  <br>
              {% endfor %}
          {% endfor %}
        </td>
        {# slides #}
        <td>
            {% for session in entry.sessions_with_slides %}
                {% for slide in session.slides %}
                    <a href="{{ slide|meeting_href:meeting }}">{{ slide.title|clean_whitespace }}</a>
                    <br>
                {% endfor %}
            {% empty %}
                {% if not meeting.proceedings_final %}<span class="badge rounded-pill bg-warning">No slides</span>{% endif %}
            {% endfor %}
        </td>
        {# drafts #}
        <td>
            {% for session in entry.sessions_with_drafts %}
                {% for draft in session.drafts %}
                    <a href="{% url "ietf.doc.views_doc.document_main" name=draft.canonical_name %}">{{ draft.canonical_name }}</a>
                    <br>
                {% endfor %}
            {% empty %}
                {% if not meeting.proceedings_final %}<span class="badge rounded-pill bg-warning">No drafts</span>{% endif %}
            {% endfor %}
        </td>
    {% endif %}
</tr>
